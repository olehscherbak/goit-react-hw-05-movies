"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{2639:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(643),s="Loader_container__X02md",a=n(184);function o(){return(0,a.jsx)("div",{className:s,children:(0,a.jsx)(r.Nx,{color:"blue"})})}},2964:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(9439),s=n(2791),a=n(1087),o=n(7689),c=n(8014),i=n(7596),u=(n(5462),"Movies_film_list__YisAm"),l="Movies_film_link__eSSBR",m="Movies_film_item__qNwPL",_="Movies_film_icon__nWTLM",f=n(2639),h=n(9126),d="SearchForm_searchForm__NsJpF",p="SearchForm_search_form_input__NMJFa",x="SearchForm_search_form_button__sV85Y",v="SearchForm_search_form_button_label__FhL6C",j=n(184);function b(e){var t=e.onSubmit;return(0,j.jsxs)("form",{className:d,onSubmit:function(e){e.preventDefault(),t(e.target.query.value.toLowerCase().trim())},children:[(0,j.jsx)("input",{className:p,type:"text",name:"query",autoComplete:"off",autoFocus:!0}),(0,j.jsxs)("button",{type:"submit",className:x,children:[(0,j.jsx)(h.dVI,{size:"0.8em"}),(0,j.jsx)("span",{className:v,children:"Search"})]})]})}function N(){var e,t=(0,s.useState)([]),n=(0,r.Z)(t,2),h=n[0],d=n[1],p=(0,s.useState)(!1),x=(0,r.Z)(p,2),v=x[0],N=x[1],S=(0,o.TH)(),g=(0,a.lr)(),y=(0,r.Z)(g,2),F=y[0],w=y[1],k=null!==(e=F.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){if(""!==k){N(!0);var e="https://api.themoviedb.org/3/search/movie?api_key=3fffdfe7cecd1a69958de862b7a37291&language=en-US&query=".concat(k,"&page=1&include_adult=false");fetch(e).then((function(e){return e.json()})).then((function(e){d(e.results),0===e.results.length&&i.Am.warn("Oops, nothing match your request :( ")})).catch((function(){return i.Am.error("Oops, something went wrong...")})).finally((function(){return N(!1)}))}}),[k]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b,{onSubmit:function(e){w({query:e})}}),h.length>0&&(0,j.jsx)("ul",{className:u,children:h.map((function(e){var t=e.id,n=e.title,r=e.name;return(0,j.jsx)("li",{className:m,children:(0,j.jsxs)(a.rU,{to:"/movies/".concat(t),state:{from:S},className:l,children:[(0,j.jsx)(c.CCU,{size:"0.8em",className:_}),n||r]})},t)}))}),v&&(0,j.jsx)(f.Z,{}),(0,j.jsx)(i.Ix,{})]})}},5462:function(){}}]);
//# sourceMappingURL=964.b3dbd593.chunk.js.map